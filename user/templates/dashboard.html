{% extends 'layout.html' %}
{% load static %}

{% block content %}

<!-- Link to specific register CSS -->
<link rel="stylesheet" href="{% static 'dashboard.css' %}">

<div class="profile-container">
    <h2>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h2>
    <form class="profile-form" method="POST" action="{% url 'update_profile' %}">
        {% csrf_token %}
        <div class="profile">
            <img src="{% static 'Register_image_page.jpg' %}" alt="Profile Picture">
            <p>ID: {{ context.id }}</p>
            <label for="first-name">First Name</label>
            <input type="text" id="first-name" name="first_name" placeholder="First Name" value="{{ context.firstname }}" disabled>
            
            <label for="last-name">Last Name</label>
            <input type="text" id="last-name" name="last_name" placeholder="Last Name" value="{{ context.lastname }}" disabled>
            
            <label for="contact">Contact Number</label>
            <input type="text" id="contact" name="contact" placeholder="Contact Number" value="{{ context.contact }}" disabled>
        </div>
        <div class="buttons">
            <button type="button" class="edit-btn button-adjust" onclick="toggleEdit()">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
            <button type="submit" class="save-btn button-adjust" style="display:none;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button type="button" class="change-pass-btn" onclick="changePassword()">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
            <button type="button" class="delete-btn" onclick="deleteAccount()">‡∏•‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</button>
        </div>
    </form>

    <!-- Service Status Section Inside Profile Container -->
    <div class="service-status-container">
        <h2>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h2>
        <div class="status-progress">
            <button class="status-item completed" onclick="showDetails('status1')">üìÖ</button>
            <button class="status-item active" onclick="showDetails('status2')">üöó</button>
            <button class="status-item" onclick="showDetails('status3')">‚úÖ</button>
        </div>
        <!-- Status Details Modal -->
        <div id="status1-details" class="status-details-modal">
            <div class="modal-content">
                <span class="close" onclick="closeDetails('status1')">&times;</span>
                <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h3>
                <p>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£...</p>
            </div>
        </div>
        <div id="status2-details" class="status-details-modal">
            <div class="modal-content">
                <span class="close" onclick="closeDetails('status2')">&times;</span>
                <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</h3>
                <p>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î...</p>
            </div>
        </div>
        <div id="status3-details" class="status-details-modal">
            <div class="modal-content">
                <span class="close" onclick="closeDetails('status3')">&times;</span>
                <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</h3>
                <p>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô...</p>
            </div>
        </div>
    </div>

    <script>
        function showDetails(statusId) {
            // Hide all modals
            var modals = document.querySelectorAll('.status-details-modal');
            modals.forEach(function(modal) {
                modal.style.display = "none";
            });
            
            // Show the clicked status modal
            var modal = document.getElementById(statusId + '-details');
            if (modal) {
                modal.style.display = "block";
            }
        }

        function closeDetails(statusId) {
            var modal = document.getElementById(statusId + '-details');
            if (modal) {
                modal.style.display = "none";
            }
        }
    </script>

{% endblock %}
